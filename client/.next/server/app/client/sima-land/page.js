(()=>{var e={};e.id=469,e.ids=[469],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},346:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>g,tree:()=>o});var s=t(482),a=t(9108),l=t(2563),i=t.n(l),n=t(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(r,c);let o=["",{children:["client",{children:["sima-land",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4704)),"/home/samidius/MP/client/app/client/sima-land/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,8762)),"/home/samidius/MP/client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/samidius/MP/client/app/client/sima-land/page.tsx"],m="/client/sima-land/page",u={require:t,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/client/sima-land/page",pathname:"/client/sima-land",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6297:(e,r,t)=>{Promise.resolve().then(t.bind(t,8748))},8748:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(5344),a=t(8779),l=t(3729),i=t(8117),n=t(4669);let c=l.forwardRef(function({title:e,titleId:r,...t},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?l.createElement("title",{id:r},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});var o=t(5965),d=t(7602);function m({product:e}){let[r,t]=(0,l.useState)(0),[a,i]=(0,l.useState)(!1),[n,o]=(0,l.useState)([]),[d,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let r=[];e.image_url&&(r.push(e.image_url),console.log(`[CLIENT] üì∏ Product ${e.id}: main image_url = ${e.image_url.substring(0,80)}...`)),e.image_urls&&Array.isArray(e.image_urls)&&(e.image_urls.forEach(e=>{e&&!r.includes(e)&&r.push(e)}),console.log(`[CLIENT] üì∏ Product ${e.id}: ${e.image_urls.length} alternative image_urls`)),console.log(`[CLIENT] üì∏ Product ${e.id}: Total ${r.length} image URLs available`),o(r),t(0),i(!1),m(!0),m(!1)},[e.image_url,e.image_urls]);let u=()=>{t(r=>{let t=r+1;return t<n.length?(console.log(`[CLIENT] ‚ùå Image ${r} failed, trying next: ${n[t]}`),t):(console.log(`[CLIENT] ‚ùå All ${n.length} images failed for product ${e.id}`),i(!0),m(!1),r)})},g=n[r];return d?s.jsx("div",{className:"w-full h-48 bg-gray-100 flex flex-col items-center justify-center border-0",children:s.jsx("div",{className:"animate-pulse",children:s.jsx(c,{className:"h-12 w-12 text-gray-300"})})}):a||!g?(0,s.jsxs)("div",{className:"w-full h-48 bg-gray-100 flex flex-col items-center justify-center border-0",children:[s.jsx(c,{className:"h-12 w-12 text-gray-400"}),s.jsx("span",{className:"mt-2 text-xs text-gray-500",children:"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"})]}):s.jsx("img",{src:g,alt:e.name,className:"w-full h-48 object-cover bg-gray-100",loading:"lazy",onError:u,onLoad:e=>{let r=e.currentTarget;if(m(!1),console.log(`[CLIENT] ‚úÖ Image loaded: ${g?.substring(0,80)}... (${r.naturalWidth}x${r.naturalHeight})`),r.naturalWidth<10&&r.naturalHeight<10){console.log(`[CLIENT] ‚ö†Ô∏è Image is too small (${r.naturalWidth}x${r.naturalHeight}), likely a placeholder - trying next image`),u();return}i(!1)},crossOrigin:"anonymous"})}function u(){let[e,r]=(0,l.useState)([]),[t,a]=(0,l.useState)([]),[u,g]=(0,l.useState)(!1),[x,h]=(0,l.useState)([]),[p,b]=(0,l.useState)([]),[y,f]=(0,l.useState)(!1),[j,v]=(0,l.useState)(""),[N,w]=(0,l.useState)("none"),[_,k]=(0,l.useState)("asc"),[C,E]=(0,l.useState)(10),[q,$]=(0,l.useState)(1),[L,P]=(0,l.useState)(!1),[I,M]=(0,l.useState)(null),[S,T]=(0,l.useState)(0),[A,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>{Z(),H()},[]),(0,l.useEffect)(()=>{B()},[e,j,N,_]);let Z=async()=>{try{let e=await i.h.get("/client/api-keys"),r=e.data.apiKeys?.sima_land?.token;P(r&&""!==r.trim())}catch(e){console.error("Error checking token:",e),P(!1)}},H=async()=>{try{let e=await i.h.get("/client/sima-land/categories");h(e.data.categories||[])}catch(e){console.error("Error fetching categories:",e)}},W=async(e,t)=>{try{g(!0);let s={};e&&e.trim()&&(s.search=e.trim()),t&&t.length>0&&(s.categories=t);let a=(await i.h.get("/client/sima-land/products",{params:s})).data.products||[];a.length>0?(console.log("[CLIENT] ‚úÖ Received products:",a.length),a.slice(0,3).forEach(e=>{console.log(`[CLIENT] Product ${e.id} (${e.article}):`),console.log(`[CLIENT]   image_url = ${e.image_url||"NULL"} (type: ${typeof e.image_url})`),console.log(`[CLIENT]   name = ${e.name?.substring(0,50)}...`),e.image_url&&console.log(`[CLIENT]   üîç Will try to load image: ${e.image_url}`)})):console.log("[CLIENT] ‚ö†Ô∏è  No products received"),r(a)}catch(e){console.error("Error fetching products:",e),e.response?.status===400?n.default.error(e.response?.data?.error||"–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ–∫–µ–Ω API"):n.default.error(e.response?.data?.error||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤")}finally{g(!1)}},z=e=>{b(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},B=()=>{let r=[...e];"none"!==N&&r.sort((e,r)=>{let t,s;switch(N){case"available":{let t=(Number(e.available_quantity)||0)>0?1:0,s=(Number(r.available_quantity)||0)>0?1:0;if(t!==s)return s-t;let a=Number(e.available_quantity)||0;return(Number(r.available_quantity)||0)-a}case"name":t=e.name||"",s=r.name||"";break;case"brand":t=e.brand||"",s=r.brand||"";break;case"price":t=Number(e.purchase_price)||0,s=Number(r.purchase_price)||0;break;default:return 0}return"string"==typeof t?"asc"===_?t.localeCompare(s):s.localeCompare(t):(isNaN(t)&&(t=0),isNaN(s)&&(s=0),"asc"===_?t-s:s-t)}),a(r),$(1)},G=e=>e?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(e):"‚Äî",O=async e=>{try{R(!0);let r=await i.h.get(`/client/sima-land/products/${e}/details`);if(r.data.success&&r.data.product){let e=r.data.product;M(r=>r?{...r,image_url:e.image_url||r.image_url,image_urls:e.image_urls||r.image_urls,description:e.description||r.description,characteristics:e.characteristics||r.characteristics}:null)}}catch(e){console.error("Error loading product details:",e)}finally{R(!1)}},U=async e=>{try{await i.h.post("/client/sima-land/products/add",{article:e.article,name:e.name,brand:e.brand,category:e.category,purchase_price:e.purchase_price,available_quantity:e.available_quantity||0,image_url:e.image_url,description:e.description}),n.default.success("–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –º–∞–≥–∞–∑–∏–Ω"),j&&j.trim().length>=2&&await W(j.trim())}catch(e){console.error("Error adding product:",e),n.default.error(e.response?.data?.error||"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞")}};return u?s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},r))})]})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"–¢–æ–≤–∞—Ä—ã –°–ò–ú–ê –õ–ï–ù–î"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"–ù–∞–π–¥–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞—Ä—Ç–∏–∫—É–ª—É"})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center w-full max-w-xl ml-auto",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(o.Z,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞—Ä—Ç–∏–∫—É–ª—É (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)",value:j,onChange:e=>v(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),s.jsx("button",{onClick:()=>{let e=j.trim();if(!e&&0===p.length){(0,n.default)("–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",{icon:"‚ÑπÔ∏è"}),r([]),a([]);return}W(e||"",p)},className:"px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å"}),(0,s.jsxs)("button",{onClick:()=>f(!y),className:`px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ${y||p.length>0?"bg-primary-100 text-primary-700 border border-primary-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:["–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ",p.length>0&&`(${p.length})`]})]})]}),y&&(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"}),p.length>0&&s.jsx("button",{onClick:()=>{b([]),j.trim()?W(j.trim(),[]):(r([]),a([]))},className:"text-sm text-primary-600 hover:text-primary-700",children:"–û—á–∏—Å—Ç–∏—Ç—å"})]}),0===x.length?s.jsx("p",{className:"text-sm text-gray-500",children:"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è..."}):s.jsx("div",{className:"max-h-64 overflow-y-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:x.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 p-2 rounded hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>z(e.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:e.name})]},e.id))}),p.length>0&&(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["–í—ã–±—Ä–∞–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: ",p.length]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(e=>{let r=x.find(r=>r.id===e);return r?(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[r.name,s.jsx("button",{onClick:()=>z(e),className:"ml-1 text-primary-600 hover:text-primary-800",children:"\xd7"})]},e):null})})]})]}),s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:"}),(0,s.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"none",children:"–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏"}),s.jsx("option",{value:"available",children:"–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–≤—ã–º–∏"}),s.jsx("option",{value:"name",children:"–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é"}),s.jsx("option",{value:"brand",children:"–ü–æ –±—Ä–µ–Ω–¥—É"}),s.jsx("option",{value:"price",children:"–ü–æ —Ü–µ–Ω–µ"})]}),"none"!==N&&s.jsx("button",{onClick:()=>k("asc"===_?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 text-sm",title:"asc"===_?"–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é":"–ü–æ —É–±—ã–≤–∞–Ω–∏—é",children:"asc"===_?"‚Üë":"‚Üì"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"–¢–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:"}),(0,s.jsxs)("select",{value:C,onChange:e=>{E(Number(e.target.value)),$(1)},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})]})}),0===t.length?s.jsx("div",{className:"card text-center",children:(0,s.jsxs)("div",{className:"py-12",children:[s.jsx(c,{className:"mx-auto h-12 w-12 text-gray-400"}),j||0!==p.length?s.jsx("p",{className:"mt-4 text-gray-500",children:"–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤."}):s.jsx("p",{className:"mt-4 text-gray-500",children:"–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.slice((q-1)*C,q*C).map(e=>(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:async()=>{M(e),T(0),await O(e.id)},children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 overflow-hidden",children:s.jsx(m,{product:e})}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("div",{className:"flex justify-between items-start mb-2",children:s.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:e.name})}),e.brand&&s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.brand}),e.category&&s.jsx("p",{className:"text-xs text-blue-600 mb-2",children:e.category}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:G(e.purchase_price)}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["–û—Å—Ç–∞—Ç–æ–∫: ",e.available_quantity||0]})]}),s.jsx("button",{onClick:r=>{r.stopPropagation(),U(e)},className:"px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"–î–æ–±–∞–≤–∏—Ç—å"})]})]})]},e.id))}),Math.ceil(t.length/C)>1&&(0,s.jsxs)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["–ü–æ–∫–∞–∑–∞–Ω–æ ",(q-1)*C+1," - ",Math.min(q*C,t.length)," –∏–∑ ",t.length]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>$(Math.max(1,q-1)),disabled:1===q,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"–ù–∞–∑–∞–¥"}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,Math.ceil(t.length/C))},(e,r)=>{let a;let l=Math.ceil(t.length/C);return a=l<=5?r+1:q<=3?r+1:q>=l-2?l-4+r:q-2+r,s.jsx("button",{onClick:()=>$(a),className:`px-3 py-1 text-sm font-medium rounded-md ${q===a?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:a},a)})}),s.jsx("button",{onClick:()=>$(Math.min(Math.ceil(t.length/C),q+1)),disabled:q>=Math.ceil(t.length/C),className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"–í–ø–µ—Ä–µ–¥"})]})]}),t.length>0&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:t.length})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"–î–æ—Å—Ç—É–ø–Ω–æ"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:t.filter(e=>(e.available_quantity||0)>0).length})]}),(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:G(t.reduce((e,r)=>e+(r.purchase_price||0),0)/t.length)})]})]}),I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>{M(null),T(0)},children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-start z-10",children:[(0,s.jsxs)("div",{className:"flex-1 pr-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:I.name}),I.brand&&(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["–ë—Ä–µ–Ω–¥: ",I.brand]}),I.article&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["–ê—Ä—Ç–∏–∫—É–ª: ",I.article]})]}),s.jsx("button",{onClick:()=>{M(null),T(0)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(d.Z,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏",A&&s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"(–∑–∞–≥—Ä—É–∑–∫–∞...)"})]}),I.image_urls&&I.image_urls.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:s.jsx("img",{src:I.image_urls?.[S]||I.image_url||"",alt:I.name,className:"w-full h-full object-contain",onError:e=>{let r=I.image_urls?.[S]||I.image_url||"";console.log(`[CLIENT] ‚ùå Main image failed to load: ${r.substring(0,80)}...`),I.image_urls&&S<I.image_urls.length-1&&T(S+1)},onLoad:()=>{let e=I.image_urls?.[S]||I.image_url||"";console.log(`[CLIENT] ‚úÖ Main image loaded: ${e.substring(0,80)}...`)}})}),I.image_urls.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.image_urls.map((e,r)=>s.jsx("button",{onClick:()=>T(r),className:`relative aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 transition-all ${S===r?"border-primary-600 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:e,alt:`${I.name} - —Ñ–æ—Ç–æ ${r+1}`,className:"w-full h-full object-cover",onError:t=>{let s=t.currentTarget;s.style.display="none";let a=document.createElement("div");a.className="w-full h-full flex items-center justify-center bg-gray-200",a.innerHTML='<svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>',s.parentElement?.appendChild(a),console.log(`[CLIENT] ‚ùå Thumbnail ${r+1} failed to load: ${e.substring(0,80)}...`)},onLoad:()=>{console.log(`[CLIENT] ‚úÖ Thumbnail ${r+1} loaded: ${e.substring(0,80)}...`)}})},`${e}-${r}`))})]}):I.image_url?s.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:s.jsx("img",{src:I.image_url,alt:I.name,className:"w-full h-full object-contain"})}):s.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center",children:s.jsx(c,{className:"h-24 w-24 text-gray-400"})})]}),s.jsx("div",{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"–¶–µ–Ω–∞ –∏ –Ω–∞–ª–∏—á–∏–µ"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"–¶–µ–Ω–∞ –∑–∞–∫—É–ø–∫–∏:"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:G(I.purchase_price)})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"–û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–∫–ª–∞–¥–µ:"}),(0,s.jsxs)("span",{className:`text-lg font-semibold ${(I.available_quantity||0)>0?"text-green-600":"text-red-600"}`,children:[I.available_quantity||0," —à—Ç."]})]})]})]}),I.description&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"–û–ø–∏—Å–∞–Ω–∏–µ"}),s.jsx("div",{className:"text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:I.description}})]}),I.characteristics&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:"object"==typeof I.characteristics?s.jsx("div",{className:"space-y-2",children:Object.entries(I.characteristics).map(([e,r])=>{if(null==r||""===r)return null;let t={size:"–†–∞–∑–º–µ—Ä",depth:"–ì–ª—É–±–∏–Ω–∞",width:"–®–∏—Ä–∏–Ω–∞",height:"–í—ã—Å–æ—Ç–∞",weight:"–í–µ—Å",in_box:"–í —É–ø–∞–∫–æ–≤–∫–µ",in_set:"–í –Ω–∞–±–æ—Ä–µ",country:"–°—Ç—Ä–∞–Ω–∞",country_id:"ID —Å—Ç—Ä–∞–Ω—ã",material:"–ú–∞—Ç–µ—Ä–∏–∞–ª",box_depth:"–ì–ª—É–±–∏–Ω–∞ —É–ø–∞–∫–æ–≤–∫–∏",box_width:"–®–∏—Ä–∏–Ω–∞ —É–ø–∞–∫–æ–≤–∫–∏",box_height:"–í—ã—Å–æ—Ç–∞ —É–ø–∞–∫–æ–≤–∫–∏",package_volume:"–û–±—ä–µ–º —É–ø–∞–∫–æ–≤–∫–∏",minimum_order_quantity:"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–∫–∞–∑",parameters:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã",barcodes:"–®—Ç—Ä–∏—Ö–∫–æ–¥—ã",color:"–¶–≤–µ—Ç",gender:"–ü–æ–ª",isbn:"ISBN",page_count:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü",brand:"–ë—Ä–µ–Ω–¥",category:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è"},a=e=>t[e.toLowerCase()]?t[e.toLowerCase()]:e.charAt(0).toUpperCase()+e.slice(1).replace(/_/g," ");return"parameters"===e&&Array.isArray(r)?(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-2 mb-2",children:[(0,s.jsxs)("div",{className:"font-medium text-gray-900 mb-2",children:[a(e),":"]}),s.jsx("div",{className:"space-y-1",children:r.map((e,r)=>e&&(e.name||e.value)?(0,s.jsxs)("div",{className:"text-sm text-gray-700 ml-4",children:[e.name&&e.name.trim()&&(0,s.jsxs)("span",{className:"font-medium",children:[e.name,": "]}),e.value&&s.jsx("span",{children:String(e.value)})]},r):null)})]},e):Array.isArray(r)?(0,s.jsxs)("div",{className:"flex justify-between items-start border-b border-gray-200 pb-2 mb-2",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:[a(e),":"]}),s.jsx("span",{className:"text-gray-700 text-right",children:r.join(", ")})]},e):(0,s.jsxs)("div",{className:"flex justify-between items-start border-b border-gray-200 pb-2 mb-2",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:[a(e),":"]}),s.jsx("span",{className:"text-gray-700 text-right",children:String(r)})]},e)})}):s.jsx("div",{className:"text-gray-700",children:String(I.characteristics)})})]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{onClick:()=>{U(I),M(null)},className:"w-full px-4 py-3 bg-primary-600 text-white text-lg font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:"–î–æ–±–∞–≤–∏—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω"})})]})})]})})]})})]})}function g(){return s.jsx(a.Z,{requiredRole:"client",children:s.jsx(u,{})})}},4704:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let s=(0,t(6843).createProxy)(String.raw`/home/samidius/MP/client/app/client/sima-land/page.tsx`),{__esModule:a,$$typeof:l}=s,i=s.default},5965:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(3729);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},7602:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(3729);let a=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[456,472,898,783,838],()=>t(346));module.exports=s})();